{% extends "base.html" %}


{% block content %}
<div class="flex items-center justify-center flex-col  max-w-xl mx-auto mt-10 gap-2">


    <div class="font-extrabold text-xl">
        Detalle Persona
    </div>
    <div class="overflow-x-auto p-2  w-full max-w-md">
        <table class="table table-zebra w-full table-compact font-bold">
            <tbody>
                <tr>
                    <td>ID</td>
                    <td>{{persona.id}}</td>
                </tr>
                <tr class="w-full">
                    <td> Nombre</td>
                    <td>
                        <div id="nombre">


                            {{persona.nombre}} <button onclick="clickHandler()"
                                class="btn btn-xs text-sm">Editar</button>
                        </div>
                    </td>

                </tr>
                <tr>
                    <td>Edad</td>
                    <td>{{persona.edad}}</td>


                </tr>
                <tr>
                    <td>Comuna</td>
                    <td>{{persona.comuna}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <form class="mt-2" type="submit" action="{% url 'eliminar' persona.id %}" method="POST">
        {% csrf_token %}
        <button class="btn btn-sm btn-warning"> Eliminar</button>
    </form>
</div>


<template id="template">

    <form class="mt-2" type="submit" action="{% url 'actualizar' persona.id  %}" method="POST"
        class="flex gap-2">
        {% csrf_token %}
        <input type="text" name="nombre" value="{{persona.nombre}}" class="input input-sm bg-slate-500 w-32">
        <button class="btn btn-sm btn-warning"> Guardar</button>
    </form>

</template>

<script>
    let nombre = document.getElementById('nombre')
    let template = document.getElementById('template')

    function clickHandler(event) {
        nombre.replaceWith(template.content)
    }
</script>

{% endblock content %}